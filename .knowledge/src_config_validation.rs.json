{"is_source_file": true, "format": "Rust", "description": "This Rust source file defines validation rules and error handling for performance metrics configuration. It includes structs and traits for validating metric names, values, and configuration structure, with detailed error reporting and a global registry for validation rules.", "external_files": ["serde::Serialize", "lazy_static::lazy_static", "std::collections::HashMap", "std::error::Error", "std::fmt", "std::sync::{Arc, RwLock}", "std::sync::Arc as StdArc"], "external_methods": ["serde_json::to_value", "regex::Regex::new", "serde_json::Value::as_object", "serde_json::Value::as_str", "serde_json::Value::as_f64", "serde_json::Value::as_u64", "serde_json::Value::is_object", "serde_json::Value::is_f64", "serde_json::Value::is_infinite", "serde_json::Value::is_nan", "serde_json::Value::is_array", "serde_json::Value::is_string"], "published": ["ValidationRule", "ValidationError", "ValidationErrorKind", "ValidationSeverity", "ValidationFieldMetadata", "ValidationResult", "Validator", "validation_errors"], "classes": [{"name": "PerformanceMetricsRule", "description": "Validation rule for performance metrics, checking sample rate, buffer size, and metric naming conventions."}, {"name": "ValidationFieldMetadata", "description": "Metadata about a field being validated, including name, expected type, valid values, and requirement status."}, {"name": "ValidationError", "description": "Represents a validation error with detailed context, severity, and error chain."}, {"name": "ValidationErrorKind", "description": "Enumerates different kinds of validation errors, including rule failures, type mismatches, serialization issues, registry errors, and aggregate errors."}, {"name": "ValidationSeverity", "description": "Severity levels for validation errors: Warning, Error, Critical."}, {"name": "ValidationRule", "description": "Trait for defining custom validation rules with validate() and description() methods."}, {"name": "Validator", "description": "Holds a collection of validation rules and performs validation on serialized data, with support for global rule registry."}, {"name": "RangeRule", "description": "Generic rule for validating numeric ranges."}, {"name": "PatternRule", "description": "Rule for validating string patterns."}, {"name": "NonEmptyRule", "description": "Rule for ensuring collections or strings are not empty."}], "methods": [{"name": "new", "description": "Constructor for various validation rule structs, initializing default parameters."}, {"name": "with_sample_rate_bounds", "description": "Sets minimum and maximum sample rate bounds."}, {"name": "with_buffer_size_bounds", "description": "Sets minimum and maximum buffer size bounds."}, {"name": "with_max_metric_name_length", "description": "Sets maximum length for metric names."}, {"name": "with_max_metrics_per_category", "description": "Sets maximum number of metrics per category."}, {"name": "validate", "description": "Performs validation of a serde_json::Value against the rule's criteria."}, {"name": "description", "description": "Provides a textual description of the validation rule."}, {"name": "new", "description": "Constructor for validation rule structs, setting default parameters."}, {"name": "validate", "description": "Implements validation logic for specific rules like name pattern, value bounds, etc."}, {"name": "register_global_rule", "description": "Registers a validation rule globally accessible by name."}, {"name": "get_global_rule", "description": "Retrieves a globally registered validation rule by name."}, {"name": "validate", "description": "Validates a serializable value against all added rules."}], "calls": ["serde_json::to_value", "regex::Regex::new", "ValidationError::new", "ValidationError::with_parent", "ValidationError::severity", "ValidationError::has_parent", "ValidationError::detailed_report", "ValidationErrorKind::default", "ValidationErrorKind::RuleFailed", "ValidationErrorKind::TypeMismatch", "ValidationErrorKind::SerializationError", "ValidationErrorKind::RegistryError", "ValidationErrorKind::AggregateError", "ValidationSeverity::Warning", "ValidationSeverity::Error", "ValidationSeverity::Critical", "ValidationRule::validate", "ValidationRule::description", "Validator::add_rule", "Validator::register_global_rule", "Validator::get_global_rule", "Validator::validate"], "search-terms": ["performance metrics validation", "Rust validation rules", "metric name pattern", "configuration structure validation", "nested tags validation", "validation error reporting", "global validation registry", "performance metrics bounds", "performance metrics rules", "validation rule trait"], "state": 2, "ctags": [], "filename": "src/config/validation.rs", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/perfmetrics-rust.git:main", "knowledge_revision": 9, "git_revision": "5b2f7154db0fa763a68f264cbb3279dc7d5dad05", "revision_history": [{"9": "5b2f7154db0fa763a68f264cbb3279dc7d5dad05"}]}