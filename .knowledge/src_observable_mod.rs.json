{"is_source_file": true, "format": "Rust", "description": "This Rust source file defines traits and a default implementation for an observable pattern used in metrics collection, including error handling, observer management, and unit tests.", "external_files": ["std::sync::{Arc, Mutex}", "std::collections::HashMap", "std::any::Any", "std::error::Error", "std::fmt", "metrics"], "external_methods": ["fmt::Display::fmt", "Error::description", "Arc::clone", "Mutex::lock", "HashMap::contains_key", "HashMap::insert", "HashMap::remove"], "published": ["ObserverError", "Observer", "Observable", "DefaultObservable"], "classes": [{"name": "ObserverError", "description": "Enumeration of error types related to observer operations, including duplicate, not found, and notification errors."}, {"name": "Observer", "description": "Trait for objects that can receive metric updates, requiring methods for handling updates and providing an identifier."}, {"name": "Observable", "description": "Trait for objects that can have observers added, removed, and notified of metric updates."}, {"name": "DefaultObservable", "description": "Default implementation of the Observable trait, managing observers with thread-safe mechanisms."}], "methods": [{"name": "ObserverError::fmt", "description": "Formats the ObserverError enum variants into human-readable strings."}, {"name": "Observer::on_metric_update", "description": "Method called when a metric update occurs, to be implemented by observers."}, {"name": "Observer::get_id", "description": "Returns the unique identifier of the observer."}, {"name": "Observable::add_observer", "description": "Adds an observer to the observable collection."}, {"name": "Observable::remove_observer", "description": "Removes an observer by ID from the collection."}, {"name": "Observable::notify_observers", "description": "Notifies all registered observers with a metric."}, {"name": "DefaultObservable::new", "description": "Creates a new instance of DefaultObservable with an empty observer list."}], "calls": ["fmt::Display::fmt", "Error::description", "Arc::clone", "Mutex::lock", "HashMap::contains_key", "HashMap::insert", "HashMap::remove"], "search-terms": ["Rust metrics observer pattern", "DefaultObservable implementation", "observer management in Rust", "thread-safe observer collection", "metrics notification system"], "state": 2, "ctags": [], "filename": "src/observable/mod.rs", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/perfmetrics-rust.git:main", "knowledge_revision": 16, "git_revision": "5b2f7154db0fa763a68f264cbb3279dc7d5dad05", "revision_history": [{"16": "5b2f7154db0fa763a68f264cbb3279dc7d5dad05"}]}